# Maintainer: aserdev <you@example.com>

pkgname=aserdev-os-utils
pkgver=20251113.2126
pkgrel=1
pkgdesc="aserdev OS core utilities (rofi-cliphist, screenrec, aser-settings, userctl)"
arch=('any')
url="https://github.com/aserdevyt/aserdev-os-utils"
license=('custom')
depends=('aserdev-os-all')
makedepends=('git')
source=("git+$url")
md5sums=('SKIP')

pkgver() {
  # Generates the current version based on YearMonthDay.HourMinute
  date +%Y%m%d.%H%M
}

package() {
  cd "$srcdir/$pkgname"

  # List of utilities to install
  for f in rofi-cliphist screenrec aser-menu userctl aser-power ls-updates update install; do
    if [[ -f "$f" ]]; then
      # Install the file with executable permissions into /usr/bin
      install -Dm755 "$f" "$pkgdir/usr/bin/$f"
    else
      echo "âš ï¸  Warning: $f not found in repo! Skipping installation for this file." >&2
    fi
  done
}
